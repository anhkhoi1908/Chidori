<div class="mx-4">
    <h3><b>Tên chi nhánh: </b> {{branch.name}}</h3>
    <h3><b>Địa chỉ: </b> {{branch.address}}</h3>
    <h3><b>Mô tả: </b> {{branch.description}}</h3>
    <h3><b>Giờ mở cửa: </b> {{branch.opening_hours}}:00 - {{branch.closing_hours}}:00</h3>
    <h3><b>SĐT: </b> {{branch.phone}}</h3>
    <h3><b>Slug: </b> {{branch.slug}}</h3>
    <a href='/branches/{{branch._id}}/edit' type='button' class='btn btn-warning'>Sửa</a>
    <a
        type='button'
        data-toggle='modal'
        data-target='#delete'
        data-id='{{branch._id}}'
        class='btn btn-danger'
    >Xóa</a>
</div>

{{! Confirm delete course }}
<div class='modal fade' tabindex='-1' id='delete'>
    <div class='modal-dialog'>
        <div class='modal-content'>
            <div class='modal-header'>
                <h5 class='modal-title'>Xóa khóa học</h5>
                <button type='button' class='btn-close' data-dismiss='modal' aria-label='Close'></button>
            </div>
            <div class='modal-body'>
                <p>Bạn chắc chắn muốn xóa khóa học này?</p>
            </div>
            <div class='modal-footer'>
                <button type='button' class='btn btn-danger' id='delete-btn'>Xóa bỏ</button>
                <button type='button' class='btn btn-secondary' data-dismiss='modal'>Hủy</button>
            </div>
        </div>
    </div>
</div>

{{! Delete form  }}
<form name='delete-branch-form' method='POST'></form>

<script>
    document.addEventListener('DOMContentLoaded', function() {  
        // Delete course
        var branchId; 
        const btnDeleteBranch = document.getElementById('delete-btn'); 
        const deleteForm = document.forms['delete-branch-form'];

        $('#delete').on('show.bs.modal', function(event) { 
            const button = $(event.relatedTarget); 
            branchId = button.data('id');  
        }) 

        // Button delete clicked
        btnDeleteBranch.addEventListener('click', function() { deleteForm.action = '/branches/' + branchId + '?_method=DELETE'; 
        deleteForm.submit(); })
    })
</script>
